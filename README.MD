# TKU Classrooms Schedules

Crawl data from `https://oa.tku.edu.tw/ClassRoom.nsf/ViewOperation?OpenForm` and structure them as a backend service.

Note: If you just want to see the schedules, just visit [this](https://oa.tku.edu.tw/names.nsf?Login&Username=person&Password=personlogin&RedirectTo=%2FClassRoom.nsf%2FViewOperation%3FOpenForm).

## Run

```bash
npm install
npm start
```

## APIs

### List Campuses and Buildings

URL: `/api/campuses`

Method: `GET`

Example Response:

```json
[
    {
        "key":"_62aing4l5bs9atl8imrkg_",
        "text":"台北校園",
        "buildings":[
            {
                "key":"_e8gg20b902aing4l5bs9atl8imrkg_",
                "text":"D  - 台北校園"
            }
        ]
    },
    {
        "key":"_62ap4g4l4ug9atl8imrkg_",
        "text":"淡水校園",
        "buildings":[
            {
                "key":"_d88g20b902aod64lqro9a8qginj9g_",
                "text":"B  - 商管大樓"
            },
            {
                "key":"_o8cg20b902b0ui4m68o9a9hginr3h5g2t_",
                "text":"C  - 鍾靈化學館"
            },
            {
                "key":"_u8kg20b902ai7a4luos9a8qginj9g_",
                "text":"E  - 工學大樓"
            },
            {
                "key":"_28sg20b902ai7a4luos9c0n8_",
                "text":"G  - 工學館"
            },
            {
                "key":"_j90g20b902an664lv9s9b3k0ilf3g_",
                "text":"H  - 宮燈教室"
            },
            {
                "key":"_69gg20b902aiea4luos9c0n8_",
                "text":"L  - 文學館"
            },
            {
                "key":"_j9og20b902apd04m2qc9aptgil7015d752al624m0bk_",
                "text":"N  - 紹謨紀念游泳館"
            },
            {
                "key":"_o9sg20b902arce4lsnk9c0n989skg_",
                "text":"O  - 傳播館(O)"
            },
            {
                "key":"_oa4g20b902arce4lsnk9c0n98a4kg_",
                "text":"Q  - 傳播館(Q)"
            },
            {
                "key":"_5acg20b902bqm24l5vk9aptgil7015b7c2avce4m0bk_",
                "text":"S  - 騮先紀念科學館"
            },
            {
                "key":"_4ad3i0b902apd04m2qc9aptgil7015hf92ak7o4m0bk_",
                "text":"SG - 紹謨紀念體育館"
            },
            {
                "key":"_tagg20b902b2ua4m1do9aptgil701593a2aud6_",
                "text":"T  - 驚聲紀念大樓"
            },
            {
                "key":"_eaog20b902aqvg4m5kk9b3k0il1u15g2t_",
                "text":"V  - 視聽教育館"
            }
        ]
    },
    {
        "key":"_p2b2fa4lmks9atl8imrkg_",
        "text":"蘭陽校園",
        "buildings":[
            {
                "key":"_q8d620b902b2fa4lmks9atl8imrkg_",
                "text":"CL - 蘭陽校園"
            }
        ]
    }
]
```

### Get the Schedules of a Building

URL: `/api/campus/:campus/building/:building/:year-:month-:day`

Method: `POST`

Example Request:

```bash
curl 'localhost:3000/api/campus/_62ap4g4l4ug9atl8imrkg_/building/_u8kg20b902ai7a4luos9a8qginj9g_/2021-03-3'
```

Example Response:

```json
{
    "symbols":[
        {
            "symbol":"！",
            "description":"不開放"
        },
        {
            "symbol":"□",
            "description":"上課"
        },
        {
            "symbol":"◎",
            "description":"上課停用"
        },
        {
            "symbol":"○",
            "description":"考試"
        },
        {
            "symbol":"△",
            "description":"課程借用"
        },
        {
            "symbol":"★",
            "description":"個人申請"
        },
        {
            "symbol":"●",
            "description":"招生考試"
        },
        {
            "symbol":"☆",
            "description":"社團借用"
        },
        {
            "symbol":"※",
            "description":"其他"
        },
        {
            "symbol":"▲",
            "description":"申請中"
        },
        {
            "symbol":"空白",
            "description":"可申請"
        }
    ],
    "rooms":[
        {
            "room_number":"E  302",
            "capacity":"75",
            "schedule":[
                "",
                "",
                "□",
                "□",
                "",
                "",
                "□",
                "□",
                "※",
                "※",
                "※",
                "※",
                "※",
                "※"
            ],
            "usage":"夜間社團",
            "equipments":"白板",
            "description":""
        },
        {
            "room_number":"E  304",
            "capacity":"88",
            "schedule":[
                "",
                "",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                "★",
                "★",
                "★",
                "★"
            ],
            "usage":"夜間社團",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  305",
            "capacity":"143",
            "schedule":[
                "□",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□",
                "□",
                "▲",
                "▲",
                "▲",
                "▲"
            ],
            "usage":"夜間社團",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  307",
            "capacity":"105",
            "schedule":[
                "□",
                "□",
                "□",
                "□",
                "",
                "",
                "□",
                "□",
                "□",
                "□",
                "★",
                "★",
                "★",
                "★"
            ],
            "usage":"夜間社團",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  308",
            "capacity":"110",
            "schedule":[
                "□",
                "□",
                "□",
                "□",
                "",
                "",
                "□",
                "□",
                "□",
                "",
                "▲",
                "▲",
                "▲",
                "▲"
            ],
            "usage":"夜間社團",
            "equipments":"白板",
            "description":""
        },
        {
            "room_number":"E  309",
            "capacity":"160",
            "schedule":[
                "□",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□",
                "□",
                "★",
                "★",
                "★",
                "★"
            ],
            "usage":"夜間社團",
            "equipments":"白板",
            "description":""
        },
        {
            "room_number":"E  310",
            "capacity":"85",
            "schedule":[
                "",
                "",
                "□",
                "□",
                "",
                "",
                "□",
                "□",
                "□",
                "",
                "★",
                "★",
                "★",
                "★"
            ],
            "usage":"夜間社團",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  311",
            "capacity":"140",
            "schedule":[
                "□",
                "□",
                "□",
                "□",
                "",
                "",
                "□",
                "□",
                "□",
                "□",
                "★",
                "★",
                "★",
                "★"
            ],
            "usage":"夜間社團",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  312",
            "capacity":"90",
            "schedule":[
                "",
                "",
                "□",
                "□",
                "",
                "",
                "□",
                "□",
                "□",
                "□",
                "★",
                "★",
                "★",
                "★"
            ],
            "usage":"夜間社團",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  401",
            "capacity":"158",
            "schedule":[
                "□",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                ""
            ],
            "usage":"",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  402",
            "capacity":"150",
            "schedule":[
                "□",
                "□",
                "□",
                "□",
                "",
                "",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□"
            ],
            "usage":"",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  404",
            "capacity":"90",
            "schedule":[
                "",
                "",
                "□",
                "□",
                "",
                "",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□"
            ],
            "usage":"",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  405",
            "capacity":"95",
            "schedule":[
                "",
                "",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□"
            ],
            "usage":"",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  409",
            "capacity":"102",
            "schedule":[
                "",
                "",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□"
            ],
            "usage":"",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  410",
            "capacity":"116",
            "schedule":[
                "",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□"
            ],
            "usage":"",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  411",
            "capacity":"160",
            "schedule":[
                "□",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                "",
                "□",
                "□"
            ],
            "usage":"",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  412",
            "capacity":"85",
            "schedule":[
                "",
                "",
                "□",
                "□",
                "",
                "□",
                "□",
                "",
                "□",
                "",
                "□",
                "□",
                "□",
                "□"
            ],
            "usage":"",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  413",
            "capacity":"90",
            "schedule":[
                "",
                "",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□"
            ],
            "usage":"",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  414",
            "capacity":"70",
            "schedule":[
                "",
                "",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "",
                ""
            ],
            "usage":"",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  415",
            "capacity":"60",
            "schedule":[
                "□",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□",
                "",
                ""
            ],
            "usage":"",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  416",
            "capacity":"95",
            "schedule":[
                "",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                "",
                ""
            ],
            "usage":"",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  508",
            "capacity":"90",
            "schedule":[
                "",
                "",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "",
                ""
            ],
            "usage":"",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  509",
            "capacity":"95",
            "schedule":[
                "",
                "",
                "△",
                "",
                "",
                "",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                ""
            ],
            "usage":"",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  510",
            "capacity":"40",
            "schedule":[
                "",
                "□",
                "□",
                "□",
                "",
                "",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "",
                ""
            ],
            "usage":"研究所",
            "equipments":"白板",
            "description":""
        },
        {
            "room_number":"E  512",
            "capacity":"98",
            "schedule":[
                "",
                "",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                ""
            ],
            "usage":"",
            "equipments":"白板",
            "description":""
        },
        {
            "room_number":"E  513",
            "capacity":"115",
            "schedule":[
                "",
                "□",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                ""
            ],
            "usage":"",
            "equipments":"白板",
            "description":""
        },
        {
            "room_number":"E  514",
            "capacity":"160",
            "schedule":[
                "□",
                "□",
                "□",
                "□",
                "",
                "",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                "",
                ""
            ],
            "usage":"",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  515",
            "capacity":"90",
            "schedule":[
                "",
                "□",
                "□",
                "□",
                "",
                "",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                ""
            ],
            "usage":"",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  805",
            "capacity":"30",
            "schedule":[
                "",
                "□",
                "□",
                "□",
                "",
                "",
                "□",
                "□",
                "□",
                "▲",
                "▲",
                "▲",
                "▲",
                "▲"
            ],
            "usage":"研究所",
            "equipments":"白板",
            "description":""
        },
        {
            "room_number":"E  811",
            "capacity":"30",
            "schedule":[
                "□",
                "□",
                "□",
                "□",
                "",
                "",
                "□",
                "□",
                "□",
                "",
                "★",
                "★",
                "★",
                ""
            ],
            "usage":"研究所",
            "equipments":"白板",
            "description":""
        },
        {
            "room_number":"E  812",
            "capacity":"30",
            "schedule":[
                "",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "▲",
                "▲",
                "★",
                "★",
                "★",
                ""
            ],
            "usage":"研究所",
            "equipments":"白板",
            "description":""
        },
        {
            "room_number":"E  813",
            "capacity":"118",
            "schedule":[
                "",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□",
                "□",
                "★",
                "★",
                "★",
                ""
            ],
            "usage":"",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  819",
            "capacity":"70",
            "schedule":[
                "",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□",
                "",
                "",
                "",
                "",
                ""
            ],
            "usage":"研究所",
            "equipments":"白板",
            "description":""
        },
        {
            "room_number":"E  820",
            "capacity":"30",
            "schedule":[
                "",
                "□",
                "□",
                "□",
                "△",
                "□",
                "□",
                "□",
                "",
                "△",
                "△",
                "",
                "",
                ""
            ],
            "usage":"研究所",
            "equipments":"白板",
            "description":""
        },
        {
            "room_number":"E  826",
            "capacity":"30",
            "schedule":[
                "",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "▲",
                "▲",
                "▲"
            ],
            "usage":"研究所",
            "equipments":"白板",
            "description":""
        },
        {
            "room_number":"E  827",
            "capacity":"30",
            "schedule":[
                "",
                "□",
                "□",
                "□",
                "※",
                "□",
                "□",
                "□",
                "",
                "",
                "",
                "",
                "",
                ""
            ],
            "usage":"研究所",
            "equipments":"",
            "description":""
        },
        {
            "room_number":"E  828",
            "capacity":"30",
            "schedule":[
                "",
                "□",
                "□",
                "□",
                "※",
                "※",
                "□",
                "□",
                "□",
                "",
                "",
                "",
                "",
                ""
            ],
            "usage":"研究所",
            "equipments":"白板",
            "description":""
        },
        {
            "room_number":"E  829",
            "capacity":"30",
            "schedule":[
                "",
                "",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "",
                "",
                "",
                "",
                "",
                ""
            ],
            "usage":"研究所",
            "equipments":"白板",
            "description":""
        },
        {
            "room_number":"E  830",
            "capacity":"100",
            "schedule":[
                "",
                "",
                "□",
                "□",
                "",
                "□",
                "□",
                "□",
                "□",
                "□",
                "□",
                "",
                "",
                ""
            ],
            "usage":"",
            "equipments":"白板",
            "description":""
        }
    ]
}
```
